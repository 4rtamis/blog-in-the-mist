---
import { type CollectionEntry, getCollection } from "astro:content";
import Container from "@components/Container.astro";
import BackToPrevious from "@components/BackToPrevious.astro";
import Layout from "@layouts/Layout.astro";

export async function getStaticPaths() {
  const characters = await getCollection("characters");

  return characters.map((character) => ({
    params: { id: character.id },
    props: character,
  }));
}

type Props = CollectionEntry<"characters">;

const character = Astro.props as Props;
---

<Layout
  title="Character dossiers coming soon"
  description="We are preparing the character sectionâ€”check back soon."
>
  <Container>
    <div class="animate">
      <BackToPrevious href="/characters">Back to characters</BackToPrevious>
    </div>

    <section class="my-12 space-y-4 rounded-lg border border-black/10 bg-[#f5f1e5] p-6 shadow-black/10">
      <p class="text-xs uppercase tracking-[0.2em] text-black/60">
        Dossier pending
      </p>

      <h1 class="text-4xl font-semibold text-black underline decoration-5 underline-offset-4">
        Character profiles are coming soon
      </h1>

      <p class="max-w-3xl text-lg text-black/80">
        We are still preparing the character pages, including the dossier for {character.data.name}. Please check back soon once this feature is ready.
      </p>
    </section>
  </Container>
</Layout>
